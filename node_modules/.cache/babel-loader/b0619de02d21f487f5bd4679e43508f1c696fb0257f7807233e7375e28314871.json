{"ast":null,"code":"// hooks封装逻辑，提供响应式数据\nimport { useIntersectionObserver } from '@vueuse/core';\nimport { ref } from 'vue';\n// 数据懒加载函数\nexport const useLazyData = apiFn => {\n  // 需要\n  // 1.被观察对象\n  // 2.不同的API函数\n  const target = ref(null);\n  const result = ref([]);\n  const {\n    stop\n  } = useIntersectionObserver(target, ([{\n    isIntersecting\n  }], observerElement) => {\n    if (isIntersecting) {\n      stop();\n      // 调用API获取数据\n      apiFn().then(data => {\n        result.value = data.result;\n        console.log(data.result);\n      });\n    }\n  }, {\n    threshold: 0\n  });\n  // 返回数据\n  return {\n    target,\n    result\n  };\n};","map":{"version":3,"names":["useIntersectionObserver","ref","useLazyData","apiFn","target","result","stop","isIntersecting","observerElement","then","data","value","console","log","threshold"],"sources":["E:/自己写的项目/tuxian/erabbit-pc-vue-project/src/hooks/index.js"],"sourcesContent":["// hooks封装逻辑，提供响应式数据\nimport { useIntersectionObserver } from '@vueuse/core';\nimport { ref } from 'vue';\n// 数据懒加载函数\nexport const useLazyData = (apiFn) => {\n  // 需要\n  // 1.被观察对象\n  // 2.不同的API函数\n  const target = ref(null);\n  const result = ref([]);\n  const { stop } = useIntersectionObserver(\n    target,\n    ([{ isIntersecting }], observerElement) => {\n      if (isIntersecting) {\n        stop();\n        // 调用API获取数据\n        apiFn().then((data) => {\n          result.value = data.result;\n          console.log(data.result);\n        });\n      }\n    },\n    {\n      threshold: 0,\n    }\n  );\n  // 返回数据\n  return { target, result };\n};\n"],"mappings":"AAAA;AACA,SAASA,uBAAuB,QAAQ,cAAc;AACtD,SAASC,GAAG,QAAQ,KAAK;AACzB;AACA,OAAO,MAAMC,WAAW,GAAIC,KAAK,IAAK;EACpC;EACA;EACA;EACA,MAAMC,MAAM,GAAGH,GAAG,CAAC,IAAI,CAAC;EACxB,MAAMI,MAAM,GAAGJ,GAAG,CAAC,EAAE,CAAC;EACtB,MAAM;IAAEK;EAAK,CAAC,GAAGN,uBAAuB,CACtCI,MAAM,EACN,CAAC,CAAC;IAAEG;EAAe,CAAC,CAAC,EAAEC,eAAe,KAAK;IACzC,IAAID,cAAc,EAAE;MAClBD,IAAI,EAAE;MACN;MACAH,KAAK,EAAE,CAACM,IAAI,CAAEC,IAAI,IAAK;QACrBL,MAAM,CAACM,KAAK,GAAGD,IAAI,CAACL,MAAM;QAC1BO,OAAO,CAACC,GAAG,CAACH,IAAI,CAACL,MAAM,CAAC;MAC1B,CAAC,CAAC;IACJ;EACF,CAAC,EACD;IACES,SAAS,EAAE;EACb,CAAC,CACF;EACD;EACA,OAAO;IAAEV,MAAM;IAAEC;EAAO,CAAC;AAC3B,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}