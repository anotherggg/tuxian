{"ast":null,"code":"import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, createBlock as _createBlock, createCommentVNode as _createCommentVNode, normalizeClass as _normalizeClass, createElementVNode as _createElementVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-66d0d8f9\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"menu\"\n};\nconst _hoisted_2 = [\"onMouseenter\"];\nconst _hoisted_3 = {\n  key: 1\n};\nconst _hoisted_4 = {\n  class: \"layer\"\n};\nconst _hoisted_5 = {\n  key: 0\n};\nconst _hoisted_6 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"small\", null, \"根据您的购买或浏览记录推荐\", -1 /* HOISTED */));\nconst _hoisted_7 = {\n  key: 1\n};\nconst _hoisted_8 = [\"src\"];\nconst _hoisted_9 = {\n  class: \"info\"\n};\nconst _hoisted_10 = {\n  class: \"name ellipsis-2\"\n};\nconst _hoisted_11 = {\n  class: \"desc ellipsis\"\n};\nconst _hoisted_12 = {\n  class: \"price\"\n};\nconst _hoisted_13 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"i\", null, \"¥\", -1 /* HOISTED */));\nconst _hoisted_14 = {\n  key: 2\n};\nconst _hoisted_15 = [\"src\"];\nconst _hoisted_16 = {\n  class: \"info\"\n};\nconst _hoisted_17 = {\n  class: \"place\"\n};\nconst _hoisted_18 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"iconfont icon-dingwei\"\n}, null, -1 /* HOISTED */));\nconst _hoisted_19 = {\n  class: \"name ellipsis\"\n};\nconst _hoisted_20 = {\n  class: \"desc ellipsis-2\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_RouterLink = _resolveComponent(\"RouterLink\");\n  const _component_xtx_skeleton = _resolveComponent(\"xtx-skeleton\");\n  return _openBlock(), _createElementBlock(\"div\", {\n    class: \"home-category\",\n    onMouseleave: _cache[0] || (_cache[0] = $event => $setup.categoryId = null)\n  }, [_createElementVNode(\"ul\", _hoisted_1, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.menuList, item => {\n    return _openBlock(), _createElementBlock(\"li\", {\n      key: item.id,\n      onMouseenter: $event => $setup.categoryId = item.id,\n      class: _normalizeClass({\n        active: $setup.categoryId === item.id\n      })\n    }, [_createVNode(_component_RouterLink, {\n      to: `/category/${item.id}`\n    }, {\n      default: _withCtx(() => [_createTextVNode(_toDisplayString(item.name), 1 /* TEXT */)]),\n\n      _: 2 /* DYNAMIC */\n    }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"to\"]), item.children ? (_openBlock(true), _createElementBlock(_Fragment, {\n      key: 0\n    }, _renderList(item.children, sub => {\n      return _openBlock(), _createBlock(_component_RouterLink, {\n        key: sub.id,\n        to: `/category/sub/${sub.id}`\n      }, {\n        default: _withCtx(() => [_createTextVNode(_toDisplayString(sub.name), 1 /* TEXT */)]),\n\n        _: 2 /* DYNAMIC */\n      }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"to\"]);\n    }), 128 /* KEYED_FRAGMENT */)) : (_openBlock(), _createElementBlock(\"span\", _hoisted_3, [_createVNode(_component_xtx_skeleton, {\n      width: \"60px\",\n      height: \"18px\",\n      style: {\n        \"margin-right\": \"5px\"\n      },\n      bg: \"rgba(255,255,255,0.2)\"\n    }), _createVNode(_component_xtx_skeleton, {\n      width: \"50px\",\n      height: \"18px\",\n      bg: \"rgba(255,255,255,0.2)\"\n    })]))], 42 /* CLASS, PROPS, HYDRATE_EVENTS */, _hoisted_2);\n  }), 128 /* KEYED_FRAGMENT */))]), _createCommentVNode(\" 弹层 \"), _createElementVNode(\"div\", _hoisted_4, [$setup.currCategory ? (_openBlock(), _createElementBlock(\"h4\", _hoisted_5, [_createTextVNode(_toDisplayString($setup.currCategory.id === 'brand' ? '品牌' : '分类') + \"推荐 \", 1 /* TEXT */), _hoisted_6])) : _createCommentVNode(\"v-if\", true), $setup.currCategory && $setup.currCategory.goods && $setup.currCategory.goods.length ? (_openBlock(), _createElementBlock(\"ul\", _hoisted_7, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.currCategory.goods, item => {\n    return _openBlock(), _createElementBlock(\"li\", {\n      key: item.id\n    }, [_createVNode(_component_RouterLink, {\n      to: \"/\"\n    }, {\n      default: _withCtx(() => [_createElementVNode(\"img\", {\n        src: item.picture,\n        alt: \"\"\n      }, null, 8 /* PROPS */, _hoisted_8), _createElementVNode(\"div\", _hoisted_9, [_createElementVNode(\"p\", _hoisted_10, _toDisplayString(item.name), 1 /* TEXT */), _createElementVNode(\"p\", _hoisted_11, _toDisplayString(item.desc), 1 /* TEXT */), _createElementVNode(\"p\", _hoisted_12, [_hoisted_13, _createTextVNode(_toDisplayString(item.price), 1 /* TEXT */)])])]),\n\n      _: 2 /* DYNAMIC */\n    }, 1024 /* DYNAMIC_SLOTS */)]);\n  }), 128 /* KEYED_FRAGMENT */))])) : _createCommentVNode(\"v-if\", true), $setup.currCategory && $setup.currCategory.brands && $setup.currCategory.brands.length ? (_openBlock(), _createElementBlock(\"ul\", _hoisted_14, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.currCategory.brands, item => {\n    return _openBlock(), _createElementBlock(\"li\", {\n      class: \"brand\",\n      key: item.id\n    }, [_createVNode(_component_RouterLink, {\n      to: \"/\"\n    }, {\n      default: _withCtx(() => [_createElementVNode(\"img\", {\n        src: item.picture,\n        alt: \"\"\n      }, null, 8 /* PROPS */, _hoisted_15), _createElementVNode(\"div\", _hoisted_16, [_createElementVNode(\"p\", _hoisted_17, [_hoisted_18, _createTextVNode(_toDisplayString(item.place), 1 /* TEXT */)]), _createElementVNode(\"p\", _hoisted_19, _toDisplayString(item.name), 1 /* TEXT */), _createElementVNode(\"p\", _hoisted_20, _toDisplayString(item.desc), 1 /* TEXT */)])]),\n\n      _: 2 /* DYNAMIC */\n    }, 1024 /* DYNAMIC_SLOTS */)]);\n  }), 128 /* KEYED_FRAGMENT */))])) : _createCommentVNode(\"v-if\", true)])], 32 /* HYDRATE_EVENTS */);\n}","map":{"version":3,"mappings":"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","names":["class","_createElementVNode","_createElementBlock","onMouseleave","$setup","_hoisted_1","_Fragment","item","key","id","onMouseenter","active","_createVNode","_component_RouterLink","to","name","children","sub","_createBlock","_component_xtx_skeleton","width","height","style","bg","_createCommentVNode","_hoisted_4","goods","length","src","picture","alt","_hoisted_9","_hoisted_10","_hoisted_11","desc","_hoisted_12","_hoisted_13","price","brands","_hoisted_16","_hoisted_17","_hoisted_18","place","_hoisted_19","_hoisted_20"],"sourceRoot":"","sources":["E:\\自己写的项目\\tuxian\\erabbit-pc-vue-project\\src\\views\\home\\components\\home-category.vue"],"sourcesContent":["<template>\n  <div class=\"home-category\" @mouseleave=\"categoryId = null\">\n    <ul class=\"menu\">\n      <li\n        v-for=\"item in menuList\"\n        :key=\"item.id\"\n        @mouseenter=\"categoryId = item.id\"\n        :class=\"{ active: categoryId === item.id }\"\n      >\n        <RouterLink :to=\"`/category/${item.id}`\">{{ item.name }}</RouterLink>\n        <template v-if=\"item.children\">\n          <RouterLink\n            v-for=\"sub in item.children\"\n            :key=\"sub.id\"\n            :to=\"`/category/sub/${sub.id}`\"\n            >{{ sub.name }}</RouterLink\n          >\n        </template>\n        <span v-else>\n          <xtx-skeleton\n            width=\"60px\"\n            height=\"18px\"\n            style=\"margin-right: 5px\"\n            bg=\"rgba(255,255,255,0.2)\"\n          />\n          <xtx-skeleton width=\"50px\" height=\"18px\" bg=\"rgba(255,255,255,0.2)\" />\n        </span>\n      </li>\n    </ul>\n    <!-- 弹层 -->\n    <div class=\"layer\">\n      <h4 v-if=\"currCategory\">\n        {{ currCategory.id === 'brand' ? '品牌' : '分类' }}推荐\n        <small>根据您的购买或浏览记录推荐</small>\n      </h4>\n      <ul\n        v-if=\"currCategory && currCategory.goods && currCategory.goods.length\"\n      >\n        <li v-for=\"item in currCategory.goods\" :key=\"item.id\">\n          <RouterLink to=\"/\">\n            <img :src=\"item.picture\" alt=\"\" />\n            <div class=\"info\">\n              <p class=\"name ellipsis-2\">{{ item.name }}</p>\n              <p class=\"desc ellipsis\">{{ item.desc }}</p>\n              <p class=\"price\"><i>¥</i>{{ item.price }}</p>\n            </div>\n          </RouterLink>\n        </li>\n      </ul>\n      <ul\n        v-if=\"currCategory && currCategory.brands && currCategory.brands.length\"\n      >\n        <li class=\"brand\" v-for=\"item in currCategory.brands\" :key=\"item.id\">\n          <RouterLink to=\"/\">\n            <img :src=\"item.picture\" alt=\"\" />\n            <div class=\"info\">\n              <p class=\"place\">\n                <i class=\"iconfont icon-dingwei\"></i>{{ item.place }}\n              </p>\n              <p class=\"name ellipsis\">{{ item.name }}</p>\n              <p class=\"desc ellipsis-2\">{{ item.desc }}</p>\n            </div>\n          </RouterLink>\n        </li>\n      </ul>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { useStore } from 'vuex';\nimport { reactive, computed, ref } from 'vue';\nimport { findBrand } from '@/api/home.js';\nimport xtxSkeleton from '../../../components/library/xtx-skeleton.vue';\nexport default {\n  components: { xtxSkeleton },\n  name: 'HomeCategory',\n  setup() {\n    const brand = reactive({\n      id: 'brand',\n      name: '品牌',\n      children: [{ id: 'brand-children', name: '品牌推荐' }],\n      brands: [],\n    });\n    const store = useStore();\n    const menuList = computed(() => {\n      const list = store.state.category.list.map((item) => {\n        return {\n          id: item.id,\n          name: item.name,\n          children: item.children && item.children.slice(0, 2),\n          goods: item.goods,\n        };\n      });\n      list.push(brand);\n      return list;\n    });\n    // 获取当前分类逻辑\n    const categoryId = ref(null);\n    const currCategory = computed(() => {\n      return menuList.value.find((item) => item.id === categoryId.value);\n    });\n    // 获取品牌参数\n    findBrand().then((data) => {\n      brand.brands = data.result;\n    });\n    return { menuList, categoryId, currCategory };\n  },\n};\n</script>\n\n<style scoped lang=\"less\">\n.home-category {\n  width: 250px;\n  height: 500px;\n  background: rgba(0, 0, 0, 0.8);\n  position: relative;\n  z-index: 99;\n  .menu {\n    li {\n      padding-left: 40px;\n      height: 50px;\n      line-height: 50px;\n      &:hover,\n      &.active {\n        background: @xtxColor;\n      }\n      a {\n        margin-right: 4px;\n        color: #fff;\n        &:first-child {\n          font-size: 16px;\n        }\n      }\n    }\n  }\n  .layer {\n    width: 990px;\n    height: 500px;\n    background: red;\n    position: absolute;\n    left: 250px;\n    top: 0;\n    display: none;\n    padding: 0 15px;\n    h4 {\n      font-size: 20px;\n      font-weight: normal;\n      line-height: 80px;\n      small {\n        font-size: 16px;\n        color: #666;\n      }\n    }\n    ul {\n      display: flex;\n      flex-wrap: wrap;\n      li {\n        width: 310px;\n        height: 120px;\n        margin-right: 15px;\n        margin-bottom: 15px;\n        border: 1px solid #eee;\n        border-radius: 4px;\n        background: #fff;\n        &:nth-child(3n) {\n          margin-right: 0;\n        }\n        a {\n          display: flex;\n          width: 100%;\n          height: 100%;\n          align-items: center;\n          padding: 10px;\n          &:hover {\n            background: #e3f9f4;\n          }\n          img {\n            width: 95px;\n            height: 95px;\n          }\n          .info {\n            padding-left: 10px;\n            line-height: 24px;\n            width: 190px;\n            .name {\n              font-size: 16px;\n              color: #666;\n            }\n            .desc {\n              color: #999;\n            }\n            .price {\n              font-size: 22px;\n              color: @priceColor;\n              i {\n                font-size: 16px;\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n  &:hover {\n    .layer {\n      display: block;\n    }\n  }\n  li.brand {\n    height: 180px;\n    a {\n      align-items: flex-start;\n      img {\n        width: 120px;\n        height: 160px;\n      }\n      .info {\n        p {\n          margin-top: 8px;\n        }\n        .place {\n          color: #999;\n        }\n      }\n    }\n  }\n  .xtx-skeleton {\n    animation: fade 1s linear infinite alternate;\n  }\n  @keyframes fade {\n    from {\n      opacity: 0.2;\n    }\n    to {\n      opacity: 1;\n    }\n  }\n}\n</style>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}