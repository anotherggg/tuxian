{"ast":null,"code":"import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-66d0d8f9\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"home-category\"\n};\nconst _hoisted_2 = {\n  class: \"menu\"\n};\nconst _hoisted_3 = [\"onMouseenter\"];\nconst _hoisted_4 = {\n  class: \"layer\"\n};\nconst _hoisted_5 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h4\", null, [/*#__PURE__*/_createTextVNode(\"分类推荐 \"), /*#__PURE__*/_createElementVNode(\"small\", null, \"根据您的购买或浏览记录推荐\")], -1 /* HOISTED */));\nconst _hoisted_6 = {\n  key: 0\n};\nconst _hoisted_7 = [\"src\"];\nconst _hoisted_8 = {\n  class: \"info\"\n};\nconst _hoisted_9 = {\n  class: \"name ellipsis-2\"\n};\nconst _hoisted_10 = {\n  class: \"desc ellipsis\"\n};\nconst _hoisted_11 = {\n  class: \"price\"\n};\nconst _hoisted_12 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"i\", null, \"¥\", -1 /* HOISTED */));\nconst _hoisted_13 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"img\", {\n  src: \"http://zhoushugang.gitee.io/erabbit-client-pc-static/uploads/brand_goods_1.jpg\",\n  alt: \"\"\n}, null, -1 /* HOISTED */));\nconst _hoisted_14 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"info\"\n}, [/*#__PURE__*/_createElementVNode(\"p\", {\n  class: \"place\"\n}, [/*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"iconfont icon-dingwei\"\n}), /*#__PURE__*/_createTextVNode(\"北京\")]), /*#__PURE__*/_createElementVNode(\"p\", {\n  class: \"name ellipsis\"\n}, \"DW\"), /*#__PURE__*/_createElementVNode(\"p\", {\n  class: \"desc ellipsis-2\"\n}, \"DW品牌闪购\")], -1 /* HOISTED */));\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_RouterLink = _resolveComponent(\"RouterLink\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"ul\", _hoisted_2, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.menuList, item => {\n    return _openBlock(), _createElementBlock(\"li\", {\n      key: item.id,\n      onMouseenter: $event => $setup.categoryId = item.id\n    }, [_createVNode(_component_RouterLink, {\n      to: `/category/${item.id}`\n    }, {\n      default: _withCtx(() => [_createTextVNode(_toDisplayString(item.name), 1 /* TEXT */)]),\n\n      _: 2 /* DYNAMIC */\n    }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"to\"]), item.children ? (_openBlock(true), _createElementBlock(_Fragment, {\n      key: 0\n    }, _renderList(item.children, sub => {\n      return _openBlock(), _createBlock(_component_RouterLink, {\n        key: sub.id,\n        to: `/category/sub/${sub.id}`\n      }, {\n        default: _withCtx(() => [_createTextVNode(_toDisplayString(sub.name), 1 /* TEXT */)]),\n\n        _: 2 /* DYNAMIC */\n      }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"to\"]);\n    }), 128 /* KEYED_FRAGMENT */)) : _createCommentVNode(\"v-if\", true)], 40 /* PROPS, HYDRATE_EVENTS */, _hoisted_3);\n  }), 128 /* KEYED_FRAGMENT */))]), _createCommentVNode(\" 弹层 \"), _createElementVNode(\"div\", _hoisted_4, [_hoisted_5, $setup.currCategory && $setup.currCategory.goods && $setup.currCategory.goods.length ? (_openBlock(), _createElementBlock(\"ul\", _hoisted_6, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.currCategory.goods, item => {\n    return _openBlock(), _createElementBlock(\"li\", {\n      key: item.id\n    }, [_createVNode(_component_RouterLink, {\n      to: \"/\"\n    }, {\n      default: _withCtx(() => [_createElementVNode(\"img\", {\n        src: item.picture,\n        alt: \"\"\n      }, null, 8 /* PROPS */, _hoisted_7), _createElementVNode(\"div\", _hoisted_8, [_createElementVNode(\"p\", _hoisted_9, _toDisplayString(item.name), 1 /* TEXT */), _createElementVNode(\"p\", _hoisted_10, _toDisplayString(item.desc), 1 /* TEXT */), _createElementVNode(\"p\", _hoisted_11, [_hoisted_12, _createTextVNode(_toDisplayString(item.price), 1 /* TEXT */)])])]),\n\n      _: 2 /* DYNAMIC */\n    }, 1024 /* DYNAMIC_SLOTS */)]);\n  }), 128 /* KEYED_FRAGMENT */))])) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"ul\", null, [(_openBlock(), _createElementBlock(_Fragment, null, _renderList(6, i => {\n    return _createElementVNode(\"li\", {\n      class: \"brand\",\n      key: i\n    }, [_createVNode(_component_RouterLink, {\n      to: \"/\"\n    }, {\n      default: _withCtx(() => [_hoisted_13, _hoisted_14]),\n      _: 1 /* STABLE */\n    })]);\n  }), 64 /* STABLE_FRAGMENT */))])])]);\n}","map":{"version":3,"mappings":";;;EACOA,KAAK,EAAC;AAAe;;EACpBA,KAAK,EAAC;AAAM;;;EAkBXA,KAAK,EAAC;AAAO;gEAChBC,oBAA0C,2CAAtC,OAAK,oCAA4B,eAArB,eAAa;;;;;;EAOlBD,KAAK,EAAC;AAAM;;EACZA,KAAK,EAAC;AAAiB;;EACvBA,KAAK,EAAC;AAAe;;EACrBA,KAAK,EAAC;AAAO;iEAACC,oBAAQ,WAAL,GAAC;iEAQvBA,oBAGE;EAFAC,GAAG,EAAC,gFAAgF;EACpFC,GAAG,EAAC;;iEAENF,oBAIM;EAJDD,KAAK,EAAC;AAAM,iBACfC,oBAA4D;EAAzDD,KAAK,EAAC;AAAO,iBAACC,oBAAqC;EAAlCD,KAAK,EAAC;AAAuB,kCAAK,IAAE,kBACxDC,oBAA+B;EAA5BD,KAAK,EAAC;AAAe,GAAC,IAAE,gBAC3BC,oBAAqC;EAAlCD,KAAK,EAAC;AAAiB,GAAC,QAAM;;;;uBA7C7CI,oBAmDM,OAnDNC,UAmDM,GAlDJJ,oBAgBK,MAhBLK,UAgBK,sBAfHF,oBAcKG,6BAbYC,eAAQ,EAAhBC,IAAI;yBADbL,oBAcK;MAZFM,GAAG,EAAED,IAAI,CAACE,EAAE;MACZC,YAAU,YAAEJ,iBAAU,GAAGC,IAAI,CAACE;QAE/BE,aAAqEC;MAAxDC,EAAE,eAAeN,IAAI,CAACE,EAAE;;wBAAI,MAAe,mCAAZF,IAAI,CAACO,IAAI;;;iDACrCP,IAAI,CAACQ,QAAQ,sBAC3Bb,oBAKCG;MAAAG;IAAA,eAJeD,IAAI,CAACQ,QAAQ,EAApBC,GAAG;2BADZC,aAKCL;QAHEJ,GAAG,EAAEQ,GAAG,CAACP,EAAE;QACXI,EAAE,mBAAmBG,GAAG,CAACP,EAAE;;0BAC3B,MAAc,mCAAXO,GAAG,CAACF,IAAI;;;;;oCAKpBI,2BAAW,EACXnB,oBA+BM,OA/BNoB,UA+BM,GA9BJC,UAA0C,EAElCd,mBAAY,IAAIA,mBAAY,CAACe,KAAK,IAAIf,mBAAY,CAACe,KAAK,CAACC,MAAM,kBADvEpB,oBAaK,sCAVHA,oBASKG,6BATcC,mBAAY,CAACe,KAAK,EAA1Bd,IAAI;yBAAfL,oBASK;MATmCM,GAAG,EAAED,IAAI,CAACE;QAChDE,aAOaC;MAPDC,EAAE,EAAC;IAAG;wBAChB,MAAkC,CAAlCd,oBAAkC;QAA5BC,GAAG,EAAEO,IAAI,CAACgB,OAAO;QAAEtB,GAAG,EAAC;2CAC7BF,oBAIM,OAJNyB,UAIM,GAHJzB,oBAA8C,KAA9C0B,UAA8C,mBAAhBlB,IAAI,CAACO,IAAI,kBACvCf,oBAA4C,KAA5C2B,WAA4C,mBAAhBnB,IAAI,CAACoB,IAAI,kBACrC5B,oBAA6C,KAA7C6B,WAA6C,GAA5BC,WAAQ,oCAAGtB,IAAI,CAACuB,KAAK;;;;yEAK9C/B,oBAcK,4BAbHG,oBAYKG,6BAZyB,CAAC,EAAN0B,CAAC;WAA1BhC,oBAYK;MAZDD,KAAK,EAAC,OAAO;MAAiBU,GAAG,EAAEuB;QACrCpB,aAUaC;MAVDC,EAAE,EAAC;IAAG;wBAChB,MAGE,CAHFmB,WAGE,EACFC,WAIM","names":["class","_createElementVNode","src","alt","_createElementBlock","_hoisted_1","_hoisted_2","_Fragment","$setup","item","key","id","onMouseenter","_createVNode","_component_RouterLink","to","name","children","sub","_createBlock","_createCommentVNode","_hoisted_4","_hoisted_5","goods","length","picture","_hoisted_8","_hoisted_9","_hoisted_10","desc","_hoisted_11","_hoisted_12","price","i","_hoisted_13","_hoisted_14"],"sourceRoot":"","sources":["E:\\自己写的项目\\tuxian\\erabbit-pc-vue-project\\src\\views\\home\\components\\home-category.vue"],"sourcesContent":["<template>\n  <div class=\"home-category\">\n    <ul class=\"menu\">\n      <li\n        v-for=\"item in menuList\"\n        :key=\"item.id\"\n        @mouseenter=\"categoryId = item.id\"\n      >\n        <RouterLink :to=\"`/category/${item.id}`\">{{ item.name }}</RouterLink>\n        <template v-if=\"item.children\">\n          <RouterLink\n            v-for=\"sub in item.children\"\n            :key=\"sub.id\"\n            :to=\"`/category/sub/${sub.id}`\"\n            >{{ sub.name }}</RouterLink\n          >\n        </template>\n      </li>\n    </ul>\n    <!-- 弹层 -->\n    <div class=\"layer\">\n      <h4>分类推荐 <small>根据您的购买或浏览记录推荐</small></h4>\n      <ul\n        v-if=\"currCategory && currCategory.goods && currCategory.goods.length\"\n      >\n        <li v-for=\"item in currCategory.goods\" :key=\"item.id\">\n          <RouterLink to=\"/\">\n            <img :src=\"item.picture\" alt=\"\" />\n            <div class=\"info\">\n              <p class=\"name ellipsis-2\">{{ item.name }}</p>\n              <p class=\"desc ellipsis\">{{ item.desc }}</p>\n              <p class=\"price\"><i>¥</i>{{ item.price }}</p>\n            </div>\n          </RouterLink>\n        </li>\n      </ul>\n      <ul>\n        <li class=\"brand\" v-for=\"i in 6\" :key=\"i\">\n          <RouterLink to=\"/\">\n            <img\n              src=\"http://zhoushugang.gitee.io/erabbit-client-pc-static/uploads/brand_goods_1.jpg\"\n              alt=\"\"\n            />\n            <div class=\"info\">\n              <p class=\"place\"><i class=\"iconfont icon-dingwei\"></i>北京</p>\n              <p class=\"name ellipsis\">DW</p>\n              <p class=\"desc ellipsis-2\">DW品牌闪购</p>\n            </div>\n          </RouterLink>\n        </li>\n      </ul>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { useStore } from 'vuex';\nimport { reactive, computed, ref } from 'vue';\nimport { findBrand } from '@/api/home.js';\nexport default {\n  name: 'HomeCategory',\n  setup() {\n    const brand = reactive({\n      id: 'brand',\n      name: '品牌',\n      children: [{ id: 'brand-children', name: '品牌推荐' }],\n      brands: [],\n    });\n    const store = useStore();\n    const menuList = computed(() => {\n      const list = store.state.category.list.map((item) => {\n        // console.log(item.name, 'item.name');\n        // console.log(item.children, 'item.children');\n        return {\n          id: item.id,\n          name: item.name,\n          children: item.children && item.children.slice(0, 2),\n          goods: item.goods,\n        };\n      });\n      list.push(brand);\n      return list;\n    });\n    // 获取当前分类逻辑\n    const categoryId = ref(null);\n    const currCategory = computed(() => {\n      console.log(menuList.value);\n      return menuList.value.find((item) => item.id === categoryId.value);\n    });\n    // 获取品牌参数\n    findBrand().then((data) => {\n      brand.brands = data.result;\n    });\n    return { menuList, categoryId, currCategory };\n  },\n};\n</script>\n\n<style scoped lang=\"less\">\n.home-category {\n  width: 250px;\n  height: 500px;\n  background: rgba(0, 0, 0, 0.8);\n  position: relative;\n  z-index: 99;\n  .menu {\n    li {\n      padding-left: 40px;\n      height: 50px;\n      line-height: 50px;\n      &:hover {\n        background: @xtxColor;\n      }\n      a {\n        margin-right: 4px;\n        color: #fff;\n        &:first-child {\n          font-size: 16px;\n        }\n      }\n    }\n  }\n}\n.layer {\n  width: 990px;\n  height: 500px;\n  background: rgba(255, 255, 255, 0.8);\n  position: absolute;\n  left: 250px;\n  top: 0;\n  display: none;\n  padding: 0 15px;\n  h4 {\n    font-size: 20px;\n    font-weight: normal;\n    line-height: 80px;\n    small {\n      font-size: 16px;\n      color: #666;\n    }\n  }\n  ul {\n    display: flex;\n    flex-wrap: wrap;\n    li {\n      width: 310px;\n      height: 120px;\n      margin-right: 15px;\n      margin-bottom: 15px;\n      border: 1px solid #eee;\n      border-radius: 4px;\n      background: #fff;\n      &:nth-child(3n) {\n        margin-right: 0;\n      }\n      a {\n        display: flex;\n        width: 100%;\n        height: 100%;\n        align-items: center;\n        padding: 10px;\n        &:hover {\n          background: #e3f9f4;\n        }\n        img {\n          width: 95px;\n          height: 95px;\n        }\n        .info {\n          padding-left: 10px;\n          line-height: 24px;\n          width: 190px;\n          .name {\n            font-size: 16px;\n            color: #666;\n          }\n          .desc {\n            color: #999;\n          }\n          .price {\n            font-size: 22px;\n            color: @priceColor;\n            i {\n              font-size: 16px;\n            }\n          }\n        }\n      }\n    }\n  }\n}\n&:hover {\n  .layer {\n    display: block;\n  }\n}\n</style>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}